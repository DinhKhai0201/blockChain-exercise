{"ast":null,"code":"//imports the Web3 API\nimport Web3 from 'web3';\n/**\n * creates & exports new instance for \n * Web3 using provided service by Metamask.\n */\n\nconst rpcURL = \"https://ropsten.infura.io/v3/cf658270146645bca881f8a7d4752099\"; // Your RCP URL goes here\n\nlet web3; // window.addEventListener('load', async () => {\n//     if (window.ethereum) {\n//         let instance = new Web3(window.ethereum);\n//         try {\n//             // Request account access if needed\n//             await window.ethereum.enable();\n//             // Acccounts now exposed\n//             web3 = instance;\n//             console.log(\"enable\");\n//         } catch (error) {\n//             // User denied account access...\n//             alert('Please allow access for the app to work');\n//         }\n//     } else if (window.web3) {\n//         web3 = new Web3(web3.currentProvider);\n//         console.log(\"Metamask\");\n//         // Acccounts always exposed\n//     }\n//     else {\n//         console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');\n//     }\n// });\n\nwindow.addEventListener(\"load\", async function () {\n  if (window.ethereum) {\n    // use MetaMask's provider\n    web3 = new Web3(window.ethereum);\n    await window.ethereum.enable(); // get permission to access accounts\n  } else {\n    console.warn(\"No web3 detected. Falling back to http://127.0.0.1:9545. You should remove this fallback when you deploy live\"); // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)\n\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://127.0.0.1:9545\"));\n  }\n});\nexport default web3;","map":{"version":3,"sources":["/home/kai/train blockchain/ipfs/src/web3.js"],"names":["Web3","rpcURL","web3","window","addEventListener","ethereum","enable","console","warn","providers","HttpProvider"],"mappings":"AAAA;AACA,OAAOA,IAAP,MAAiB,MAAjB;AAEA;;;;;AAKA,MAAMC,MAAM,GAAG,+DAAf,C,CAA+E;;AAE/E,IAAIC,IAAJ,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAC,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,kBAAiB;AAC/C,MAAID,MAAM,CAACE,QAAX,EAAqB;AACnB;AACAH,IAAAA,IAAI,GAAG,IAAIF,IAAJ,CAASG,MAAM,CAACE,QAAhB,CAAP;AACA,UAAMF,MAAM,CAACE,QAAP,CAAgBC,MAAhB,EAAN,CAHmB,CAGa;AACjC,GAJD,MAIO;AACLC,IAAAA,OAAO,CAACC,IAAR,CAAa,+GAAb,EADK,CAEL;;AACAN,IAAAA,IAAI,GAAG,IAAIF,IAAJ,CAAS,IAAIA,IAAI,CAACS,SAAL,CAAeC,YAAnB,CAAgC,uBAAhC,CAAT,CAAP;AACD;AAEF,CAXD;AAYA,eAAeR,IAAf","sourcesContent":["//imports the Web3 API\nimport Web3 from 'web3';\n\n/**\n * creates & exports new instance for \n * Web3 using provided service by Metamask.\n */\n\nconst rpcURL = \"https://ropsten.infura.io/v3/cf658270146645bca881f8a7d4752099\" // Your RCP URL goes here\n\nlet web3;\n// window.addEventListener('load', async () => {\n//     if (window.ethereum) {\n//         let instance = new Web3(window.ethereum);\n//         try {\n//             // Request account access if needed\n//             await window.ethereum.enable();\n//             // Acccounts now exposed\n//             web3 = instance;\n//             console.log(\"enable\");\n//         } catch (error) {\n//             // User denied account access...\n//             alert('Please allow access for the app to work');\n//         }\n//     } else if (window.web3) {\n//         web3 = new Web3(web3.currentProvider);\n//         console.log(\"Metamask\");\n//         // Acccounts always exposed\n//     }\n//     else {\n//         console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');\n//     }\n// });\nwindow.addEventListener(\"load\", async function() {\n  if (window.ethereum) {\n    // use MetaMask's provider\n    web3 = new Web3(window.ethereum);\n    await window.ethereum.enable(); // get permission to access accounts\n  } else {\n    console.warn(\"No web3 detected. Falling back to http://127.0.0.1:9545. You should remove this fallback when you deploy live\",);\n    // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://127.0.0.1:9545\"),);\n  }\n\n});\nexport default web3;"]},"metadata":{},"sourceType":"module"}